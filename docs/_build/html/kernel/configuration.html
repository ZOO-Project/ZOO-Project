

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ZOO-Kernel configuration &mdash; ZOO-Project 1.4a0 documentation</title>
  
  <link href="http://fonts.googleapis.com/css?family=Days+One" rel="stylesheet" type="text/css">
  
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within ZOO-Project 1.4a0 documentation" href="../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ZOO-Project 1.4a0 documentation" href="../index.html"/>
        <link rel="up" title="ZOO-Kernel" href="index.html"/>
        <link rel="next" title="Optional MapServer support" href="mapserver.html"/>
        <link rel="prev" title="What is ZOO-Kernel ?" href="what.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
	  <a class="shrink" href="http://zoo-project.org"><img src="http://zoo-project.org/img/zoo-sun-logo.png" class="img-responsive sun" style="display: inline;"> ZOO</a>
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-is-zoo-project">What is ZOO-Project ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#zoo-project-components">ZOO-Project components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#open-source">Open Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">ZOO-Project installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install-prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-download.html">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-confoptions.html">Configure options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-installation.html">Installation on Unix/Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onwindows.html">Installation on Windows ™</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onmacos.html">Installation on MacOSX ™</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ZOO-Kernel</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what.html">What is ZOO-Kernel ?</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">ZOO-Kernel configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapserver.html">Optional MapServer support</a></li>
<li class="toctree-l2"><a class="reference internal" href="orfeotoolbox.html">Optional Orfeo Toolbox support</a></li>
<li class="toctree-l2"><a class="reference internal" href="sagagis.html">Optional SAGA GIS support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">ZOO-Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../services/what.html">What are ZOO-Services ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zcfg-reference.html">ZOO-Service configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/process-profiles.html">Process profiles registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/howtos.html">Create your own ZOO-Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/status.html">ZOO Status Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/debug.html">Debugging ZOO Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zoo-services.html">Available ZOO-Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">ZOO-API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/what.html">What is ZOO-API ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/howto.html">Using ZOO-API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/classes.html">ZOO-API Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client/index.html">ZOO-Client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../client/what.html">What is ZOO-Client ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/howto.html">Using ZOO-Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/example.html">Example application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/howto.html">How to contribute ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/code.html">Contribute code</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">ZOO-Project</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">

    <li><a href="../contents.html"> Docs</a> &#8725; &#160;</li>
      
          <li><a href="index.html">ZOO-Kernel</a> &#8725; &#160;</li>
      
    <li>ZOO-Kernel configuration</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/kernel/configuration.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="zoo-kernel-configuration">
<span id="kernel-config"></span><h1>ZOO-Kernel configuration<a class="headerlink" href="#zoo-kernel-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="main-configuration-file">
<h2>Main configuration file<a class="headerlink" href="#main-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>ZOO-Kernel general settings are defined in a configuration file called
<code class="docutils literal"><span class="pre">main.cfg</span></code>. This file is stored in the same directory as ZOO-Kernel
(<code class="docutils literal"><span class="pre">/usr/lib/cgi-bin/</span></code> in most cases). It provides usefull metadata information on your ZOO-Kernel installation.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">ZOO-Kernel (<code class="docutils literal"><span class="pre">/usr/lib/cgi-bin/zoo_loader.cgi</span></code>) and its
configuration file (<code class="docutils literal"><span class="pre">/usr/lib/cgi-bin/main.cfg</span></code>) must be in the
same directory.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Information contained by <code class="docutils literal"><span class="pre">/usr/lib/cgi-bin/main.cfg</span></code> is accessible from WPS Services at runtime, so when <em>Execute</em> requests are used.</p>
</div>
<div class="section" id="default-main-cfg">
<h3>Default main.cfg<a class="headerlink" href="#default-main-cfg" title="Permalink to this headline">¶</a></h3>
<p>An example <em>main.cfg</em> file is given here as reference.</p>
<div class="highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">[headers]</span>
<span class="na">X-Powered-By</span><span class="o">=</span><span class="s">ZOO@ZOO-Project</span>

<span class="k">[main]</span>
<span class="na">version</span><span class="o">=</span><span class="s">1.0.0</span>
<span class="na">encoding</span><span class="o">=</span><span class="s">utf-8</span>
<span class="na">dataPath</span><span class="o">=</span><span class="s">/var/data</span>
<span class="na">tmpPath</span><span class="o">=</span><span class="s">/var/www/temp</span>
<span class="na">cacheDir</span><span class="o">=</span><span class="s">/var/www/cache</span>
<span class="na">sessPath</span><span class="o">=</span><span class="s">/tmp</span>
<span class="na">serverAddress</span><span class="o">=</span><span class="s">http://localhost/cgi-bin/zoo_loader.cgi</span>
<span class="na">lang</span><span class="o">=</span><span class="s">fr-FR,ja-JP</span>
<span class="na">language</span><span class="o">=</span><span class="s">en-US</span>
<span class="na">mapserverAddress</span><span class="o">=</span><span class="s">http://localhost/cgi-bin/mapserv.cgi</span>
<span class="na">msOgcVersion</span><span class="o">=</span><span class="s">1.0.0</span>
<span class="na">tmpUrl</span><span class="o">=</span><span class="s">http:/localhost/temp/</span>

<span class="k">[identification]</span>
<span class="na">keywords</span><span class="o">=</span><span class="s">t,ZOO-Project, ZOO-Kernel,WPS,GIS</span>
<span class="na">title</span><span class="o">=</span><span class="s">ZOO-Project demo instance</span>
<span class="na">abstract</span><span class="o">=</span> <span class="s">This is ZOO-Project, the Open WPS platform.</span>
<span class="na">accessConstraints</span><span class="o">=</span><span class="s">none</span>
<span class="na">fees</span><span class="o">=</span><span class="s">None</span>

<span class="k">[provider]</span>
<span class="na">positionName</span><span class="o">=</span><span class="s">Developer</span>
<span class="na">providerName</span><span class="o">=</span><span class="s">GeoLabs SARL</span>
<span class="na">addressAdministrativeArea</span><span class="o">=</span><span class="s">False</span>
<span class="na">addressDeliveryPoint</span><span class="o">=</span><span class="s">1280, avenue des Platanes</span>
<span class="na">addressCountry</span><span class="o">=</span><span class="s">fr</span>
<span class="na">phoneVoice</span><span class="o">=</span><span class="s">+33467430995</span>
<span class="na">addressPostalCode</span><span class="o">=</span><span class="s">34970</span>
<span class="na">role</span><span class="o">=</span><span class="s">Dev</span>
<span class="na">providerSite</span><span class="o">=</span><span class="s">http://geolabs.fr</span>
<span class="na">phoneFacsimile</span><span class="o">=</span><span class="s">False</span>
<span class="na">addressElectronicMailAddress</span><span class="o">=</span><span class="s">gerald@geolabs.fr</span>
<span class="na">addressCity</span><span class="o">=</span><span class="s">Lattes</span>
<span class="na">individualName</span><span class="o">=</span><span class="s">Gerald FENOY</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="main-section">
<h3>Main section<a class="headerlink" href="#main-section" title="Permalink to this headline">¶</a></h3>
<p>The main.cfg <code class="docutils literal"><span class="pre">[main]</span></code> section parameters are explained bellow.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">version</span></code>: Supported WPS version.</li>
<li><code class="docutils literal"><span class="pre">encoding</span></code>: Default encoding of WPS Responses.</li>
<li><code class="docutils literal"><span class="pre">dataPath</span></code>: Path to the directory where data files are stored (used to store mapfiles and data when MapServer support is activated).</li>
<li><code class="docutils literal"><span class="pre">tmpPath</span></code>: Path to the directory where temporary files are stored (such as <em>ExecuteResponse</em> when <em>storeExecuteResponse</em> is set to true).</li>
<li><code class="docutils literal"><span class="pre">cacheDir</span></code>: Path to  the directory where cached request files <a class="footnote-reference" href="#f1" id="id1">[1]</a> are stored (optional).</li>
<li><code class="docutils literal"><span class="pre">serverAddress</span></code>: URL to the ZOO-Kernel instance.</li>
<li><code class="docutils literal"><span class="pre">tmpUrl</span></code>: URL of the temporary files directory.</li>
<li><code class="docutils literal"><span class="pre">mapservAddress</span></code>: URL to the MapServer instance (optional).</li>
<li><code class="docutils literal"><span class="pre">msOgcVersion</span></code>: Version of all supported OGC Web Services output <a class="footnote-reference" href="#f2" id="id2">[2]</a>
(optional).</li>
<li><code class="docutils literal"><span class="pre">lang</span></code>: Supported natural languages separated by a coma (the first is the default one),</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="identification-and-provider">
<h3>Identification and Provider<a class="headerlink" href="#identification-and-provider" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">[identification]</span></code> and <code class="docutils literal"><span class="pre">[provider]</span></code> sections are not ZOO-Project
specific. They provide OGC metadata <a class="footnote-reference" href="#f3" id="id3">[3]</a> and should be set according
to the <a class="reference external" href="http://schemas.opengis.net/ows/1.1.0/ows19115subset.xsd">XML Schema Document</a> which
encodes the parts of ISO 19115 used by the common
<em>ServiceIdentification</em> and <em>ServiceProvider</em> sections of the
<em>GetCapabilities</em> operation response, known as the service metadata
XML document.</p>
<p>Details of the common OWS 1.1.0 <em>ServiceIdentification</em> section can be
found in this <a class="reference external" href="http://schemas.opengis.net/ows/1.1.0/owsServiceIdentification.xsd">XML Schema Document</a>.</p>
<p>Details of the common OWS 1.1.0 <em>ServiceProvider</em> section can be
found in this <a class="reference external" href="http://schemas.opengis.net/ows/1.1.0/owsServiceProvider.xsd">XML Schema Document</a>.</p>
</div>
</div>
<div class="section" id="additional-sections">
<h2>Additional sections<a class="headerlink" href="#additional-sections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="headers-section">
<h3>Headers section<a class="headerlink" href="#headers-section" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">[headers]</span></code> section can be set in order to define a specific HTTP
Response header, which will be used for every response. As an example,
you can check <a class="reference external" href="http://zoo-project.org">http://zoo-project.org</a> using <em>curl</em> command line tool
and notice the specific header <em>X-Powered-By: Zoo-Project&#64;Trac</em>.</p>
</div>
<div class="section" id="env-section">
<h3>env section<a class="headerlink" href="#env-section" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">[env]</span></code> section can be used to store specific environment
variables to be set prior the loading of <em>Services Provider</em> and Service execution.</p>
<p>A typical example is when a Service requires the access to a X server
running on <em>framebuffer</em>, which takes to set the DISPLAY environnement
variable, as follow:</p>
<div class="highlight-guess"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">[env]</span>
<span class="na">DISPLAY</span><span class="o">=</span><span class="s">:1</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="lenv-section">
<h3>lenv section<a class="headerlink" href="#lenv-section" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">lenv</span></code> can be used to store runtime informations automatically
set by ZOO-Kernel before and during the execution of a WPS service,
with the following parameters:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">sid</span></code> (r): The WPS Service unique identifier,</li>
<li><code class="docutils literal"><span class="pre">status</span></code> (rw): The current progress value ( a value between 0 and
100 in percent (<strong>%</strong>) ),</li>
<li><code class="docutils literal"><span class="pre">cwd</span></code> (r): The current working directory of ZOO-Kernel,</li>
<li><code class="docutils literal"><span class="pre">message</span></code> (rw): An error message used when <code class="docutils literal"><span class="pre">SERVICE_FAILED</span></code> is returned (optional),</li>
<li><code class="docutils literal"><span class="pre">cookie</span></code> (rw): The cookie to be returned to the client (for
example for authentication purpose).</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="senv-section">
<h3>senv section<a class="headerlink" href="#senv-section" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">senv</span></code> section can be used to store sessions information on the
server side. Such information can then be accessed automatically from
the Service if the server is requested using a valid cookie (as
defined in <code class="docutils literal"><span class="pre">lenv</span></code> section). ZOO-Kernel will store the values set in the
<code class="docutils literal"><span class="pre">senv</span></code> maps on disk, load it and dynamically replace its content to
the one in the <code class="docutils literal"><span class="pre">main.cfg</span></code>. The <code class="docutils literal"><span class="pre">senv</span></code> section must contain the
following parameter at least:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">XXX</span></code>: The session unique identifier where <code class="docutils literal"><span class="pre">XXX</span></code> is the name
included in the cookie which is returned.</li>
</ul>
</div></blockquote>
<p id="cookie-example">For instance, adding the following in the Service source code  :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">conf</span><span class="p">[</span><span class="s">&quot;lenv&quot;</span><span class="p">][</span><span class="s">&quot;cookie&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;XXX=XXX1000000; path=/&quot;</span>
<span class="n">conf</span><span class="p">[</span><span class="s">&quot;senv&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;XXX&quot;</span><span class="p">:</span> <span class="s">&quot;XXX1000000&quot;</span><span class="p">,</span><span class="s">&quot;login&quot;</span><span class="p">:</span> <span class="s">&quot;demoUser&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>means that ZOO-Kernel will create a file named <code class="docutils literal"><span class="pre">sess_XXX1000000.cfg</span></code>
in the <code class="docutils literal"><span class="pre">cacheDir</span></code> directory, and will return the specified cookie to the client. Each time the client will
request ZOO-Kernel using this cookie, it will automatically load the
value stored before the Service execution.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>If GET requests are passed through <code class="docutils literal"><span class="pre">xlink:href</span></code> to
the ZOO-Kernel , the latter will execute the request the first time and store the result  on disk. The next time the same request is executed, the cached file will be used and this will make your process run much faster. If <code class="docutils literal"><span class="pre">cachedir</span></code> was not specified in the <code class="docutils literal"><span class="pre">main.cfg</span></code> then the <code class="docutils literal"><span class="pre">tmpPath</span></code> value will be used.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Usefull when the <a class="reference internal" href="mapserver.html#kernel-mapserver"><span>Optional MapServer support</span></a> is activated (available since ZOO-Project version 1.3.0).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>ZOO-Kernel and MapServer are sharing the same metadata for
OGC Web Services if the <a class="reference internal" href="mapserver.html#kernel-mapserver"><span>Optional MapServer support</span></a> is activated.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mapserver.html" class="btn btn-neutral float-right" title="Optional MapServer support">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="what.html" class="btn btn-neutral" title="What is ZOO-Kernel ?"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <div class="pfoot">
  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, ZOO-Project team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> inspired by <a href="https://readthedocs.org">Read the Docs</a>.
</div>
</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.4a0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>