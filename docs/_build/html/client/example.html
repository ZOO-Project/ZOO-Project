

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example application &mdash; ZOO-Project 1.4a0 documentation</title>
  
  <link href="http://fonts.googleapis.com/css?family=Days+One" rel="stylesheet" type="text/css">
  
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within ZOO-Project 1.4a0 documentation" href="../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ZOO-Project 1.4a0 documentation" href="../index.html"/>
        <link rel="up" title="ZOO-Client" href="index.html"/>
        <link rel="next" title="Contributor Guide" href="../contribute/index.html"/>
        <link rel="prev" title="Using ZOO-Client" href="howto.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
	  <a class="shrink" href="http://zoo-project.org"><img src="http://zoo-project.org/img/zoo-sun-logo.png" class="img-responsive sun" style="display: inline;"> ZOO</a>
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-is-zoo-project">What is ZOO-Project ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#zoo-project-components">ZOO-Project components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#open-source">Open Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">ZOO-Project installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install-prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-download.html">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-confoptions.html">Configure options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-installation.html">Installation on Unix/Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onwindows.html">Installation on Windows ™</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onmacos.html">Installation on MacOSX ™</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kernel/index.html">ZOO-Kernel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kernel/what.html">What is ZOO-Kernel ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/configuration.html">ZOO-Kernel configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/mapserver.html">Optional MapServer support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/orfeotoolbox.html">Optional Orfeo Toolbox support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/sagagis.html">Optional SAGA GIS support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">ZOO-Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../services/what.html">What are ZOO-Services ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zcfg-reference.html">ZOO-Service configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/process-profiles.html">Process profiles registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/howtos.html">Create your own ZOO-Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/status.html">ZOO Status Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/debug.html">Debugging ZOO Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zoo-services.html">Available ZOO-Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">ZOO-API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/what.html">What is ZOO-API ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/howto.html">Using ZOO-API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/classes.html">ZOO-API Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ZOO-Client</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what.html">What is ZOO-Client ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto.html">Using ZOO-Client</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Example application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/howto.html">How to contribute ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/code.html">Contribute code</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">ZOO-Project</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">

    <li><a href="../contents.html"> Docs</a> &#8725; &#160;</li>
      
          <li><a href="index.html">ZOO-Client</a> &#8725; &#160;</li>
      
    <li>Example application</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/client/example.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="example-application">
<span id="client-example"></span><h1>Example application<a class="headerlink" href="#example-application" title="Permalink to this headline">¶</a></h1>
<p>This section gives a detailed example of ZOO-Client based JavaScript appliclation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this example application, first setup a <code class="docutils literal"><span class="pre">/zoo-client-demo</span></code> directory accessible from your web server at <cite>http://localhost/zoo-client-demo</cite>.</p>
</div>
<p>The following subdirectories must be created in the <code class="docutils literal"><span class="pre">/zoo-client-demo</span></code> directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">assets</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">hogan</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">jquery</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">query</span><span class="o">-</span><span class="n">string</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">xml2json</span>
<span class="n">assets</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">zoo</span>
<span class="n">assets</span><span class="o">/</span><span class="n">tpl</span>
</pre></div>
</div>
<p>You will need to copy your node_modules javascript files copied in the
<cite>hogan</cite> and <cite>query-string</cite> directories. First, you wil need to install
query-string.</p>
<div class="highlight-python"><div class="highlight"><pre>npm install query-string
</pre></div>
</div>
<p>Then you will copy <cite>query-string.js</cite> and <cite>hogan-3.0.2.js</cite> files in
your <cite>zoo-client-demo</cite> web directory. Those files are located in your
<cite>~/node_modules</cite> directory.</p>
<p>For other libraries, you will need to download them from their
official web sites and uncompress them in the corresponding
directories.</p>
<div class="section" id="loading-the-modules-from-your-web-application">
<h2>Loading the modules from your web application<a class="headerlink" href="#loading-the-modules-from-your-web-application" title="Permalink to this headline">¶</a></h2>
<p>Before using the ZOO-Client, you will first have to include the
javascript files from your web page. With the use of requirejs you
will need only one line in your HTML page to include everything at
once. This line will look like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;script data-main=&quot;assets/js/first&quot; src=&quot;assets/js/lib/require.js&quot;&gt;&lt;/script&gt;
</pre></div>
</div>
<p>In this example, we suppose that you have created a <cite>first.js</cite> file
in the <cite>assets/js</cite> directory containing your main application
code. First, you define there the required JavaScript libraries and
potentially their configuration, then you can add any relevant code.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">&#39;assets/js&#39;</span><span class="p">,</span>
    <span class="nx">paths</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">jquery</span><span class="o">:</span> <span class="s1">&#39;lib/jquery/jquery-1.11.0.min&#39;</span><span class="p">,</span>
        <span class="nx">hogan</span><span class="o">:</span> <span class="s1">&#39;lib/hogan/hogan-3.0.2&#39;</span><span class="p">,</span>
        <span class="nx">xml2json</span><span class="o">:</span> <span class="s1">&#39;lib/xml2json/xml2json.min&#39;</span><span class="p">,</span>
        <span class="nx">queryString</span><span class="o">:</span> <span class="s1">&#39;lib/query-string/query-string&#39;</span><span class="p">,</span>
        <span class="nx">wpsPayloads</span><span class="o">:</span> <span class="s1">&#39;lib/zoo/payloads&#39;</span><span class="p">,</span>
        <span class="nx">wpsPayload</span><span class="o">:</span> <span class="s1">&#39;lib/zoo/wps-payload&#39;</span><span class="p">,</span>
        <span class="nx">utils</span><span class="o">:</span> <span class="s1">&#39;lib/zoo/utils&#39;</span><span class="p">,</span>
        <span class="nx">zoo</span><span class="o">:</span> <span class="s1">&#39;lib/zoo/zoo&#39;</span><span class="p">,</span>
        <span class="nx">domReady</span><span class="o">:</span> <span class="s1">&#39;lib/domReady&#39;</span><span class="p">,</span>
        <span class="nx">app</span><span class="o">:</span> <span class="s1">&#39;first-app&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nx">shim</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">wpsPayloads</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;hogan&#39;</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="nx">wpsPayload</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">deps</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;wpsPayloads&#39;</span><span class="p">],</span>
            <span class="nx">exports</span><span class="o">:</span> <span class="s1">&#39;wpsPayload&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="nx">hogan</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">exports</span><span class="o">:</span> <span class="s1">&#39;Hogan&#39;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="nx">xml2json</span><span class="o">:</span> <span class="p">{</span>
          <span class="nx">exports</span><span class="o">:</span> <span class="s2">&quot;X2JS&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="nx">queryString</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">exports</span><span class="o">:</span> <span class="s1">&#39;queryString&#39;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">});</span>

<span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="nx">config</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">app</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/cgi-bin/zoo_loader.cgi&#39;</span><span class="p">,</span>
            <span class="nx">delay</span><span class="o">:</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nx">require</span><span class="p">([</span><span class="s1">&#39;domReady&#39;</span><span class="p">,</span> <span class="s1">&#39;app&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">domReady</span><span class="p">,</span> <span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">domReady</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">app</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>On line 2, you define the url where your files are located on the web
server, in <cite>assets/js</cite>. From line 3 to 14, you define the JavaScript
files to be loaded. From line 15 to 21, you configure the dependencies
and exported symbols. From line 35 to 42, you configure your main
application.</p>
<p>In this application, we use the <a class="reference external" href="http://github.com/requirejs/domReady">domReady</a> module to call the
<cite>initialize</cite> function defined in the <cite>app</cite> module, which is defined in
the <cite>first-app.js</cite> file as defined on line 13.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span class="nx">define</span><span class="p">([</span>
    <span class="s1">&#39;module&#39;</span><span class="p">,</span><span class="s1">&#39;zoo&#39;</span><span class="p">,</span><span class="s1">&#39;wpsPayload&#39;</span>
<span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">module</span><span class="p">,</span> <span class="nx">ZooProcess</span><span class="p">,</span> <span class="nx">wpsPayload</span><span class="p">)</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">myZooObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZooProcess</span><span class="p">({</span>
        <span class="nx">url</span><span class="o">:</span> <span class="nx">module</span><span class="p">.</span><span class="nx">config</span><span class="p">().</span><span class="nx">url</span><span class="p">,</span>
        <span class="nx">delay</span><span class="o">:</span> <span class="nx">module</span><span class="p">.</span><span class="nx">config</span><span class="p">().</span><span class="nx">delay</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="kd">var</span> <span class="nx">initialize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="nx">myZooObject</span><span class="p">.</span><span class="nx">getCapabilities</span><span class="p">({</span>
           <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
             <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
                     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>

        <span class="nx">myZooObject</span><span class="p">.</span><span class="nx">describeProcess</span><span class="p">({</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
            <span class="nx">identifier</span><span class="o">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
            <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>

       <span class="nx">myZooObject</span><span class="p">.</span><span class="nx">execute</span><span class="p">({</span>
           <span class="nx">identifier</span><span class="o">:</span> <span class="s2">&quot;Buffer&quot;</span><span class="p">,</span>
           <span class="nx">dataInputs</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;identifier&quot;</span><span class="o">:</span><span class="s2">&quot;InputPolygon&quot;</span><span class="p">,</span><span class="s2">&quot;href&quot;</span><span class="o">:</span><span class="s2">&quot;XXX&quot;</span><span class="p">,</span><span class="s2">&quot;mimeType&quot;</span><span class="o">:</span><span class="s2">&quot;text/xml&quot;</span><span class="p">}],</span>
           <span class="nx">dataOutputs</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;identifier&quot;</span><span class="o">:</span><span class="s2">&quot;Result&quot;</span><span class="p">,</span><span class="s2">&quot;mimeType&quot;</span><span class="o">:</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;raw&quot;</span><span class="p">}],</span>
           <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
           <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
           <span class="p">},</span>
           <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
           <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="c1">// Return public methods</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">initialize</span><span class="o">:</span> <span class="nx">initialize</span>
    <span class="p">};</span>

<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>On line 5 you create a &#8220;global&#8221; <cite>ZooProcess</cite> instance named
<cite>myZooObject</cite>, you set the <cite>url</cite> and <cite>delay</cite> to the values defined in
<cite>first.js</cite> on line 35. From line 10 to 40,  you define a simple
<cite>initialize</cite> function which will invoke the <cite>getCapabilities</cite> (line
12 to 18), <cite>describeProcess</cite> (from line 20 to 26) and <cite>execute</cite> (from
line 28 to 39) methods. For each you define a callback function which
will simply display the resulting data in the browser&#8217;s console.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../contribute/index.html" class="btn btn-neutral float-right" title="Contributor Guide">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howto.html" class="btn btn-neutral" title="Using ZOO-Client"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <div class="pfoot">
  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, ZOO-Project team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> inspired by <a href="https://readthedocs.org">Read the Docs</a>.
</div>
</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.4a0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>