

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create your own ZOO-Services &mdash; ZOO-Project 1.4a0 documentation</title>
  
  <link href="http://fonts.googleapis.com/css?family=Days+One" rel="stylesheet" type="text/css">
  
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within ZOO-Project 1.4a0 documentation" href="../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ZOO-Project 1.4a0 documentation" href="../index.html"/>
        <link rel="up" title="ZOO-Services" href="index.html"/>
        <link rel="next" title="ZOO Status Service" href="status.html"/>
        <link rel="prev" title="Process profiles registry" href="process-profiles.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
	  <a class="shrink" href="http://zoo-project.org"><img src="http://zoo-project.org/img/zoo-sun-logo.png" class="img-responsive sun" style="display: inline;"> ZOO</a>
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-is-zoo-project">What is ZOO-Project ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#zoo-project-components">ZOO-Project components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#open-source">Open Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">ZOO-Project installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install-prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-download.html">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-confoptions.html">Configure options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-installation.html">Installation on Unix/Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onwindows.html">Installation on Windows ™</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onmacos.html">Installation on MacOSX ™</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kernel/index.html">ZOO-Kernel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kernel/what.html">What is ZOO-Kernel ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/configuration.html">ZOO-Kernel configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/mapserver.html">Optional MapServer support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/orfeotoolbox.html">Optional Orfeo Toolbox support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/sagagis.html">Optional SAGA GIS support</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ZOO-Services</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what.html">What are ZOO-Services ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="zcfg-reference.html">ZOO-Service configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="process-profiles.html">Process profiles registry</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Create your own ZOO-Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="status.html">ZOO Status Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="debug.html">Debugging ZOO Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="zoo-services.html">Available ZOO-Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">ZOO-API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/what.html">What is ZOO-API ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/howto.html">Using ZOO-API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/classes.html">ZOO-API Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client/index.html">ZOO-Client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../client/what.html">What is ZOO-Client ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/howto.html">Using ZOO-Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/example.html">Example application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/howto.html">How to contribute ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/code.html">Contribute code</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">ZOO-Project</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">

    <li><a href="../contents.html"> Docs</a> &#8725; &#160;</li>
      
          <li><a href="index.html">ZOO-Services</a> &#8725; &#160;</li>
      
    <li>Create your own ZOO-Services</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/services/howtos.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="create-your-own-zoo-services">
<span id="services-create"></span><h1>Create your own ZOO-Services<a class="headerlink" href="#create-your-own-zoo-services" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="index.html#services-index"><span>ZOO-Services</span></a> are quite easy to create once you have installed the ZOO Kernel and have
chosen code (in the language of your choice) to turn into a ZOO service. Here are some
HelloWorlds in Python, PHP, Java  and JavaScript with links to their corresponding
<code class="docutils literal"><span class="pre">.zcfg</span></code> files.</p>
<div class="section" id="general-information">
<h2>General information<a class="headerlink" href="#general-information" title="Permalink to this headline">¶</a></h2>
<p>The function of the process for each programming language take three arguments: the main
configuration, inputs and outputs.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The service must return <strong>3</strong> if the process run successfully</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The service must return <strong>4</strong> if the process ended with an error</p>
</div>
</div>
<div class="section" id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll find here information needed to deploy your own Python Services Provider.</p>
<div class="section" id="python-zcfg-requirements">
<h3>Python ZCFG requirements<a class="headerlink" href="#python-zcfg-requirements" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For each Service provided by your ZOO Python Services Provider, the ZCFG File
must be named the same as the Python module function name (also the case of
characters is important).</p>
</div>
<p>The ZCFG file should contain the following :</p>
<dl class="docutils">
<dt>serviceType</dt>
<dd>Python</dd>
<dt>serviceProvider</dt>
<dd>The name of the Python module to use as a ZOO Service Provider. For instance, if your
script, located in the same directory as your ZOO Kernel, was named <code class="docutils literal"><span class="pre">my_module.py</span></code> then
you should use <code class="docutils literal"><span class="pre">my_module</span></code> (the Python module name) for the serviceProvider value in ZCFG file.</dd>
</dl>
</div>
<div class="section" id="python-data-structure-used">
<h3>Python Data Structure used<a class="headerlink" href="#python-data-structure-used" title="Permalink to this headline">¶</a></h3>
<p>The three parameters of the function are passed to the Python module as dictionaries.</p>
<p>Following you&#8217;ll find an example for each parameters</p>
<div class="section" id="main-configuration">
<h4>Main configuration<a class="headerlink" href="#main-configuration" title="Permalink to this headline">¶</a></h4>
<p>Main configuration contains several informations, some of them are really useful to develop your service.
Following an example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
<span class="s">&#39;main&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;lang&#39;</span><span class="p">:</span> <span class="s">&#39;en-UK&#39;</span><span class="p">,</span>
         <span class="s">&#39;language&#39;</span><span class="p">:</span> <span class="s">&#39;en-US&#39;</span><span class="p">,</span>
         <span class="s">&#39;encoding&#39;</span><span class="p">:</span> <span class="s">&#39;utf-8&#39;</span><span class="p">,</span>
         <span class="s">&#39;dataPath&#39;</span><span class="p">:</span> <span class="s">&#39;/var/www/tmp&#39;</span><span class="p">,</span>
         <span class="s">&#39;tmpPath&#39;</span><span class="p">:</span> <span class="s">&#39;/var/www/tmp&#39;</span><span class="p">,</span>
         <span class="s">&#39;version&#39;</span><span class="p">:</span> <span class="s">&#39;1.0.0&#39;</span><span class="p">,</span>
         <span class="s">&#39;mapserverAddress&#39;</span><span class="p">:</span> <span class="s">&#39;http://localhost/cgi-bin/mapserv&#39;</span><span class="p">,</span>
         <span class="s">&#39;isSoap&#39;</span><span class="p">:</span> <span class="s">&#39;false&#39;</span><span class="p">,</span>
         <span class="s">&#39;tmpUrl&#39;</span><span class="p">:</span> <span class="s">&#39;http://localhost/tmp/&#39;</span><span class="p">,</span>
         <span class="s">&#39;serverAddress&#39;</span><span class="p">:</span> <span class="s">&#39;http://localhost/zoo&#39;</span>
        <span class="p">},</span>
<span class="s">&#39;identification&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;keywords&#39;</span><span class="p">:</span> <span class="s">&#39;WPS,GIS&#39;</span><span class="p">,</span>
                   <span class="s">&#39;abstract&#39;</span><span class="p">:</span> <span class="s">&#39;WPS services for testing ZOO&#39;</span><span class="p">,</span>
                   <span class="s">&#39;fees&#39;</span><span class="p">:</span> <span class="s">&#39;None&#39;</span><span class="p">,</span>
                   <span class="s">&#39;accessConstraints&#39;</span><span class="p">:</span> <span class="s">&#39;none&#39;</span><span class="p">,</span>
                   <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;testing services&#39;</span>
                  <span class="p">},</span>
<span class="s">&#39;lenv&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;status&#39;</span><span class="p">:</span> <span class="s">&#39;0&#39;</span><span class="p">,</span>
         <span class="s">&#39;soap&#39;</span><span class="p">:</span> <span class="s">&#39;false&#39;</span><span class="p">,</span>
         <span class="s">&#39;cwd&#39;</span><span class="p">:</span> <span class="s">&#39;/usr/lib/cgi-bin&#39;</span><span class="p">,</span>
         <span class="s">&#39;sid&#39;</span><span class="p">:</span> <span class="s">&#39;24709&#39;</span>
        <span class="p">},</span>
<span class="s">&#39;env&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;DISPLAY&#39;</span><span class="p">:</span> <span class="s">&#39;localhost:0&#39;</span><span class="p">},</span>
<span class="s">&#39;provider&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;addressCountry&#39;</span><span class="p">:</span> <span class="s">&#39;it&#39;</span><span class="p">,</span>
             <span class="s">&#39;positionName&#39;</span><span class="p">:</span> <span class="s">&#39;Developer&#39;</span><span class="p">,</span>
             <span class="s">&#39;providerName&#39;</span><span class="p">:</span> <span class="s">&#39;Name of provider&#39;</span><span class="p">,</span>
             <span class="s">&#39;addressAdministrativeArea&#39;</span><span class="p">:</span> <span class="s">&#39;False&#39;</span><span class="p">,</span>
             <span class="s">&#39;phoneVoice&#39;</span><span class="p">:</span> <span class="s">&#39;False&#39;</span><span class="p">,</span>
             <span class="s">&#39;addressCity&#39;</span><span class="p">:</span> <span class="s">&#39;City&#39;</span><span class="p">,</span>
             <span class="s">&#39;providerSite&#39;</span><span class="p">:</span> <span class="s">&#39;http://www.your.site&#39;</span><span class="p">,</span>
             <span class="s">&#39;addressPostalCode&#39;</span><span class="p">:</span> <span class="s">&#39;38122&#39;</span><span class="p">,</span>
             <span class="s">&#39;role&#39;</span><span class="p">:</span> <span class="s">&#39;Developer&#39;</span><span class="p">,</span>
             <span class="s">&#39;addressDeliveryPoint&#39;</span><span class="p">:</span> <span class="s">&#39;False&#39;</span><span class="p">,</span>
             <span class="s">&#39;phoneFacsimile&#39;</span><span class="p">:</span> <span class="s">&#39;False&#39;</span><span class="p">,</span>
             <span class="s">&#39;addressElectronicMailAddress&#39;</span><span class="p">:</span> <span class="s">&#39;your@email.com&#39;</span><span class="p">,</span>
             <span class="s">&#39;individualName&#39;</span><span class="p">:</span> <span class="s">&#39;Your Name&#39;</span>
            <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="inputs">
<h4>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h4>
<p>The inputs are somethings like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
<span class="s">&#39;variable_name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;minOccurs&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span>
                  <span class="s">&#39;DataType&#39;</span><span class="p">:</span> <span class="s">&#39;string&#39;</span><span class="p">,</span>
                  <span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="s">&#39;this_is_the_value&#39;</span><span class="p">,</span>
                  <span class="s">&#39;maxOccurs&#39;</span><span class="p">:</span> <span class="s">&#39;1&#39;</span><span class="p">,</span>
                  <span class="s">&#39;inRequest&#39;</span><span class="p">:</span> <span class="s">&#39;true&#39;</span>
                 <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The access to the value you have to require for the <code class="docutils literal"><span class="pre">value</span></code> parameter, something like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">yourVariable</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="s">&#39;variable_name&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="outputs">
<h4>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h4>
<p>The outputs data as a structure really similar to the inputs one</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
<span class="s">&#39;result&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;DataType&#39;</span><span class="p">:</span> <span class="s">&#39;string&#39;</span><span class="p">,</span>
           <span class="s">&#39;inRequest&#39;</span><span class="p">:</span> <span class="s">&#39;true&#39;</span><span class="p">,</span>
          <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There is no <code class="docutils literal"><span class="pre">'value'</span></code> parameter before you assign it</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">inputs</span><span class="p">[</span><span class="s">&#39;result&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">yourOutputDataVariable</span>
</pre></div>
</div>
<p>The return statement has to be an integer: corresponding to the service status code.</p>
<p>To add a message for the wrong result you can add the massage to <code class="docutils literal"><span class="pre">conf[&quot;lenv&quot;][&quot;message&quot;]</span></code>,
for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">conf</span><span class="p">[</span><span class="s">&quot;lenv&quot;</span><span class="p">][</span><span class="s">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;Your module return an error&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sample-zoo-python-services-provider">
<h3>Sample ZOO Python Services Provider<a class="headerlink" href="#sample-zoo-python-services-provider" title="Permalink to this headline">¶</a></h3>
<p>The following code represents a simple ZOO Python Services Provider which provides only one
Service, the HelloPy one.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">zoo</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">def</span> <span class="nf">HelloPy</span><span class="p">(</span><span class="n">conf</span><span class="p">,</span><span class="n">inputs</span><span class="p">,</span><span class="n">outputs</span><span class="p">):</span>
   <span class="n">outputs</span><span class="p">[</span><span class="s">&quot;Result&quot;</span><span class="p">][</span><span class="s">&quot;value&quot;</span><span class="p">]</span><span class="o">=</span><span class="s">&quot;Hello &quot;</span><span class="o">+</span><span class="n">inputs</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;value&quot;</span><span class="p">]</span><span class="o">+</span><span class="s">&quot; from Python World !&quot;</span>
   <span class="k">return</span> <span class="n">zoo</span><span class="o">.</span><span class="n">SERVICE_SUCCEEDED</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="php">
<h2>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<div class="section" id="zoo-api">
<h3>ZOO-API<a class="headerlink" href="#zoo-api" title="Permalink to this headline">¶</a></h3>
<p>The ZOO-API for the PHP language is automatically available from your
service code. Tthe following functions are defined in the ZOO-API:</p>
<dl class="docutils">
<dt>int zoo_SERVICE_SUCCEEDED()</dt>
<dd>return the value of SERVICE_SUCCEEDED</dd>
<dt>int zoo_SERVICE_FAILED()</dt>
<dd>return the value of SERVICE_FAILED</dd>
<dt>string zoo_Translate(string a)</dt>
<dd>return the translated string (using the &#8220;zoo-service&#8221; <a class="reference external" href="http://www.gnu.org/software/libc/manual/html_node/Locating-gettext-catalog.html#index-textdomain">textdomain</a>)</dd>
<dt>void zoo_UpdateStatus(Array conf,string message,int pourcent)</dt>
<dd>update the status of the running service</dd>
</dl>
</div>
<div class="section" id="php-zcfg-requirements">
<h3>PHP ZCFG requirements<a class="headerlink" href="#php-zcfg-requirements" title="Permalink to this headline">¶</a></h3>
<p>The ZCFG file should contain the following :</p>
<dl class="docutils">
<dt>serviceType</dt>
<dd>PHP</dd>
<dt>serviceProvider</dt>
<dd>The name of the php script (ie. service.php) to use as a ZOO Service Provider.</dd>
</dl>
</div>
<div class="section" id="php-data-structure-used">
<h3>PHP Data Structure used<a class="headerlink" href="#php-data-structure-used" title="Permalink to this headline">¶</a></h3>
<p>The three parameters are passed to the PHP function as
<a class="reference external" href="php.net/manual/language.types.array.php">Arrays</a>.</p>
</div>
<div class="section" id="sample-zoo-php-services-provider">
<h3>Sample ZOO PHP Services Provider<a class="headerlink" href="#sample-zoo-php-services-provider" title="Permalink to this headline">¶</a></h3>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?</span>
<span class="k">function</span> <span class="nf">HelloPHP</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$main_conf</span><span class="p">,</span><span class="o">&amp;</span><span class="nv">$inputs</span><span class="p">,</span><span class="o">&amp;</span><span class="nv">$outputs</span><span class="p">){</span>
   <span class="nv">$tmp</span><span class="o">=</span><span class="s2">&quot;Hello &quot;</span><span class="o">.</span><span class="nv">$inputs</span><span class="p">[</span><span class="nx">S</span><span class="p">][</span><span class="nx">value</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot; from PHP world !&quot;</span><span class="p">;</span>
   <span class="nv">$outputs</span><span class="p">[</span><span class="s2">&quot;Result&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span><span class="o">=</span><span class="nx">zoo_Translate</span><span class="p">(</span><span class="nv">$tmp</span><span class="p">);</span>
   <span class="k">return</span> <span class="nx">zoo_SERVICE_SUCCEEDED</span><span class="p">();</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="java">
<h2>Java<a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h2>
<p>Specifically for the Java support, you may add the following two
sections to your <code class="docutils literal"><span class="pre">main.cfg</span></code> file:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">[javaxx]:</th><td class="field-body">This section is used to pass -XX:* parameters to the JVM  created by the
ZOO-Kernel to handle your ZOO-Service (see <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#BehavioralOptions">ref. 1</a>
or <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#PerformanceTuning">ref. 2</a>
for sample available).
For each map <code class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">b</span></code> available in the <code class="docutils literal"><span class="pre">[javaxx]</span></code> section, the
option <code class="docutils literal"><span class="pre">-XX:a=b</span></code> will be passed to the JVM. In case of a map <code class="docutils literal"><span class="pre">a</span> <span class="pre">=</span>
<span class="pre">minus</span></code> (respectively <code class="docutils literal"><span class="pre">a=plus</span></code>) then the option <code class="docutils literal"><span class="pre">-XX:-a</span></code>
(respectivelly <code class="docutils literal"><span class="pre">-XX:+a</span></code>) will be passed.</td>
</tr>
<tr class="field-even field"><th class="field-name">[javax]:</th><td class="field-body">The section is used to pass -X* options to the JVM (see
<a class="reference external" href="http://docs.oracle.com/cd/E22289_01/html/821-1274/configuring-the-default-jvm-and-java-arguments.html">ref.</a>). For
each map <code class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">b</span></code> available in the <code class="docutils literal"><span class="pre">[javax]</span></code> section, the option
<code class="docutils literal"><span class="pre">-Xab</span></code> will be passed to the JVM (ie. set <code class="docutils literal"><span class="pre">mx=2G</span></code> to pass
<code class="docutils literal"><span class="pre">-Xmx2G</span></code>).</td>
</tr>
</tbody>
</table>
<div class="section" id="id1">
<h3>ZOO-API<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Before you build your first ZOO-Service implemented in Java, it is
recommended that you first build the ZOO class of the Java ZOO-API.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should build ZOO-Kernel prior to follow this instructions.</p>
</div>
<p>To build the ZOO.class of the ZOO-API for Java, use the following
command:</p>
<div class="highlight-guess"><div class="highlight"><pre>cd zoo-api/java
make
cp ZOO.class libZOO.so /usr/lib/cgi-bin
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">running the previous commands will require that both
<code class="docutils literal"><span class="pre">javac</span></code> and <code class="docutils literal"><span class="pre">javah</span></code> are in your PATH.</p>
</div>
</div>
<div class="section" id="java-zcfg-requirements">
<h3>Java ZCFG requirements<a class="headerlink" href="#java-zcfg-requirements" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For each Service provided by your ZOO Java Services Provider
(your corresponding Java class), the ZCFG File should have
the name of the Java public method corresponding to the
service (case-sensitive).</p>
</div>
<p>The ZCFG file should contain the following :</p>
<dl class="docutils">
<dt>serviceType</dt>
<dd>Java</dd>
<dt>serviceProvider</dt>
<dd>The name of the Java class to use as a ZOO Service Provider. For instance, if your
java class, located in the same directory as your ZOO-Kernel, was
named <code class="docutils literal"><span class="pre">HelloJava.class</span></code> then you should use <code class="docutils literal"><span class="pre">HelloJava</span></code>.</dd>
</dl>
</div>
<div class="section" id="java-data-structure-used">
<h3>Java Data Structure used<a class="headerlink" href="#java-data-structure-used" title="Permalink to this headline">¶</a></h3>
<p>The three parameters are passed to the Java function as
<a class="reference external" href="http://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html">java.util.HashMap</a>.</p>
</div>
<div class="section" id="sample-zoo-java-services-provider">
<h3>Sample ZOO Java Services Provider<a class="headerlink" href="#sample-zoo-java-services-provider" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloJava</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">HelloWorldJava</span><span class="o">(</span><span class="n">HashMap</span> <span class="n">conf</span><span class="o">,</span><span class="n">HashMap</span> <span class="n">inputs</span><span class="o">,</span> <span class="n">HashMap</span> <span class="n">outputs</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">HashMap</span> <span class="n">hm1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
     <span class="n">hm1</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;dataType&quot;</span><span class="o">,</span><span class="s">&quot;string&quot;</span><span class="o">);</span>
     <span class="n">HashMap</span> <span class="n">tmp</span><span class="o">=(</span><span class="n">HashMap</span><span class="o">)(</span><span class="n">inputs</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;S&quot;</span><span class="o">));</span>
     <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">String</span> <span class="n">v</span><span class="o">=</span><span class="n">tmp</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;value&quot;</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>
     <span class="n">hm1</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;value&quot;</span><span class="o">,</span><span class="s">&quot;Hello &quot;</span><span class="o">+</span><span class="n">v</span><span class="o">+</span><span class="s">&quot; from JAVA WOrld !&quot;</span><span class="o">);</span>
     <span class="n">outputs</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Result&quot;</span><span class="o">,</span><span class="n">hm1</span><span class="o">);</span>
     <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hello from JAVA WOrld !&quot;</span><span class="o">);</span>
     <span class="k">return</span> <span class="n">ZOO</span><span class="o">.</span><span class="na">SERVICE_SUCCEEDED</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="javascript">
<h2>Javascript<a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>ZOO API<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>If you need to use <span class="xref std std-ref">ZOO API</span> in your service, you have first to copy <code class="docutils literal"><span class="pre">zoo-api.js</span></code>
and <code class="docutils literal"><span class="pre">zoo-proj4js.js</span></code> where your services are located (for example in Unix system probably in
<code class="docutils literal"><span class="pre">/usr/lib/cgi-bin/</span></code></p>
</div>
<div class="section" id="javascript-zcfg-requirements">
<h3>Javascript ZCFG requirements<a class="headerlink" href="#javascript-zcfg-requirements" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For each Service provided by your ZOO Javascript Services Provider, the ZCFG File
must be named the same as the Javascript function name (also the case of
characters is important).</p>
</div>
<p>The ZCFG file should contain the following :</p>
<dl class="docutils">
<dt>serviceType</dt>
<dd>JS</dd>
<dt>serviceProvider</dt>
<dd>The name of the JavaScript file to use as a ZOO Service Provider. For instance, if your
script, located in the same directory as your ZOO Kernel, was named <code class="docutils literal"><span class="pre">my_module.js</span></code> then
you should use <code class="docutils literal"><span class="pre">my_module.js</span></code>.</dd>
</dl>
</div>
<div class="section" id="javascript-data-structure-used">
<h3>Javascript Data Structure used<a class="headerlink" href="#javascript-data-structure-used" title="Permalink to this headline">¶</a></h3>
<p>The three parameters of the function are passed to the JavaScript function as Object.</p>
</div>
<div class="section" id="sample-zoo-javascript-services-provider">
<h3>Sample ZOO Javascript Services Provider<a class="headerlink" href="#sample-zoo-javascript-services-provider" title="Permalink to this headline">¶</a></h3>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">hellojs</span><span class="p">(</span><span class="nx">conf</span><span class="p">,</span><span class="nx">inputs</span><span class="p">,</span><span class="nx">outputs</span><span class="p">){</span>
   <span class="nx">outputs</span><span class="o">=</span><span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
   <span class="nx">outputs</span><span class="o">=</span><span class="p">{};</span>
   <span class="nx">outputs</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;Hello &quot;</span><span class="o">+</span><span class="nx">inputs</span><span class="p">[</span><span class="s2">&quot;S&quot;</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; from JS World !&quot;</span><span class="p">;</span>
   <span class="k">return</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="nx">outputs</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="status.html" class="btn btn-neutral float-right" title="ZOO Status Service">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="process-profiles.html" class="btn btn-neutral" title="Process profiles registry"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <div class="pfoot">
  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, ZOO-Project team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> inspired by <a href="https://readthedocs.org">Read the Docs</a>.
</div>
</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.4a0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>