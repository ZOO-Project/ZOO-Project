

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Examples &mdash; ZOO-Project 1.4a0 documentation</title>
  
  <link href="http://fonts.googleapis.com/css?family=Days+One" rel="stylesheet" type="text/css">
  
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within ZOO-Project 1.4a0 documentation" href="../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ZOO-Project 1.4a0 documentation" href="../index.html"/>
        <link rel="up" title="ZOO-API" href="index.html"/>
        <link rel="next" title="ZOO-Client" href="../client/index.html"/>
        <link rel="prev" title="ZOO.Request" href="zoo-request.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
	  <a class="shrink" href="http://zoo-project.org"><img src="http://zoo-project.org/img/zoo-sun-logo.png" class="img-responsive sun" style="display: inline;"> ZOO</a>
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#what-is-zoo-project">What is ZOO-Project ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#zoo-project-components">ZOO-Project components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#open-source">Open Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">ZOO-Project installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/install-prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-download.html">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-confoptions.html">Configure options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-installation.html">Installation on Unix/Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onwindows.html">Installation on Windows ™</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-onmacos.html">Installation on MacOSX ™</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kernel/index.html">ZOO-Kernel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../kernel/what.html">What is ZOO-Kernel ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/configuration.html">ZOO-Kernel configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/mapserver.html">Optional MapServer support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/orfeotoolbox.html">Optional Orfeo Toolbox support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel/sagagis.html">Optional SAGA GIS support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">ZOO-Services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../services/what.html">What are ZOO-Services ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zcfg-reference.html">ZOO-Service configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/process-profiles.html">Process profiles registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/howtos.html">Create your own ZOO-Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/status.html">ZOO Status Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/debug.html">Debugging ZOO Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services/zoo-services.html">Available ZOO-Services</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ZOO-API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what.html">What is ZOO-API ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto.html">Using ZOO-API</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">ZOO-API Classes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../client/index.html">ZOO-Client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../client/what.html">What is ZOO-Client ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/howto.html">Using ZOO-Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client/example.html">Example application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/howto.html">How to contribute ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/code.html">Contribute code</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">ZOO-Project</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">

    <li><a href="../contents.html"> Docs</a> &#8725; &#160;</li>
      
          <li><a href="index.html">ZOO-API</a> &#8725; &#160;</li>
      
    <li>Examples</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/api/examples.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="examples">
<span id="api-examples"></span><h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>This section gathers sample scripts using <a class="reference internal" href="what.html#api-what"><span>ZOO-API</span></a>, the <a class="reference external" href="http://zoo-project.org">ZOO-Project</a> server-side JavaScript API.</p>
<p>ZOO-API contains many classes and functions. You can find the description list <a class="reference internal" href="classes.html#api-classes"><span>here</span></a>.</p>
<div class="section" id="zoo-process-example">
<h2>ZOO.Process example<a class="headerlink" href="#zoo-process-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>function SampleService(conf,inputs,outputs){
   var myProcess = new ZOO.Process(&#39;http://localhost/cgi-bin-new1/zoo_loader_new1.cgi&#39;,&#39;Boundary&#39;);
   var myInputs = {InputPolygon: { type: &#39;complex&#39;, value: &#39;{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[-106.993853,35.998758],[-107.407233,35.997524],[-107.430525,35.997726],[-107.4824,35.99878],[-108.37013,35.999472],[-109.043633,35.996652],[-109.096265,35.997817],[-109.148763,36.001751],[-109.200981,36.008442],[-109.252775,36.017871],[-109.304,36.030014],[-109.354516,36.044835],[-106.468201,35.991497],[-106.855511,35.989504],[-106.90933,35.990676],[-106.963008,35.994743],[-106.993853,35.998758]]]}&#39;, mimeType: &quot;application/json&quot;} };
   var myExecuteResult=myProcess.Execute(myInputs);
   return {result: ZOO.SERVICE_SUCCEEDED, outputs: [ {name:&quot;Result&quot;, value: myExecuteResult} ] };
}
</pre></div>
</div>
<p>In this really short example you can see how to create <code class="docutils literal"><span class="pre">ZOO.Process</span></code> class instance and
call the Execute method on such an instance. Then you&#8217;ll just need to return a JavaScript
object containing the attributes result and outputs, which I&#8217;m sure you already know
what is about. The first is about the status of the process (can be <code class="docutils literal"><span class="pre">ZOO.SERVICE_SUCEEDED</span></code>,
<code class="docutils literal"><span class="pre">ZOO.SERVICE_FAILED</span></code> and so on), the last is obviously the resulting maps (take a
look at the maps internal data structure used by ZOO Kernel in <code class="docutils literal"><span class="pre">service.h</span></code>).</p>
</div>
<div class="section" id="zoo-updatestatus-example">
<h2>ZOO.UpdateStatus example<a class="headerlink" href="#zoo-updatestatus-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>function SampleLongService(conf,inputs,outputs){
   var my_i=0;
   while(my_i&lt;100){
       try{
         conf[&quot;lenv&quot;][&quot;status&quot;]=my_i;
       }
       catch(e){
       }
       ZOOUpdateStatus(conf,my_i);
       SampleService(conf,inputs,outputs);
       my_i+=10;
   }
   return SampleService(conf,inputs,outputs);
}
</pre></div>
</div>
<p>You can see in this sample code how to use the <code class="docutils literal"><span class="pre">ZOOUpdateStatus</span></code> function to update the
current status of your running process. This information will be really helpfull when the
ZOO Kernel will run your JavaScript Service in background mode (if the user set to <code class="docutils literal"><span class="pre">true</span></code>
the <code class="docutils literal"><span class="pre">storeExecuteResponse</span></code> parameter in his request).</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../client/index.html" class="btn btn-neutral float-right" title="ZOO-Client">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="zoo-request.html" class="btn btn-neutral" title="ZOO.Request"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  <div class="pfoot">
  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, ZOO-Project team.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> inspired by <a href="https://readthedocs.org">Read the Docs</a>.
</div>
</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.4a0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>